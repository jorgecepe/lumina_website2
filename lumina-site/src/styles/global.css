@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   NEO-BRUTALIST DESIGN SYSTEM
   Anti-AI, Human-Centered Design
   ============================================ */

@layer base {
  /* FONTS - Typography with Character */
  @import url('https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=JetBrains+Mono:wght@400;500;600&family=Bebas+Neue&family=Outfit:wght@300;400;500;600;700&display=swap');

  :root {
    /* Custom properties for dynamic theming */
    --grain-opacity: 0.03;
    --border-width: 2px;
    --transition-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
    --transition-smooth: cubic-bezier(0.16, 1, 0.3, 1);
  }

  * {
    @apply antialiased;
  }

  html {
    scroll-behavior: smooth;
    font-feature-settings: "kern" 1, "liga" 1;
  }

  body {
    @apply font-body text-lum-charcoal bg-lum-cream;
    text-rendering: optimizeLegibility;
  }

  /* Selection with brand color */
  ::selection {
    @apply bg-lum-coral/30 text-lum-black;
  }

  /* TYPOGRAPHY HIERARCHY - Serif for impact, sans for body */
  h1, h2, h3 {
    @apply font-serif text-lum-black;
  }

  h1 {
    @apply text-display-lg md:text-display-xl font-normal leading-none tracking-tight;
  }

  h2 {
    @apply text-display-md font-normal;
  }

  h3 {
    @apply text-2xl md:text-3xl font-normal;
  }

  h4, h5, h6 {
    @apply font-body font-semibold text-lum-charcoal;
  }

  p {
    @apply leading-relaxed text-lum-slate;
  }

  /* Monospace accents */
  code, .mono {
    @apply font-mono text-mono-sm;
  }

  /* Links with underline animation */
  a:not(.btn):not(.nav-link) {
    @apply relative;
  }
}

@layer components {
  /* ============================================
     CONTAINER
     ============================================ */
  .container-custom {
    @apply max-w-7xl mx-auto px-5 sm:px-8 lg:px-12;
  }

  .container-narrow {
    @apply max-w-4xl mx-auto px-5 sm:px-8;
  }

  /* ============================================
     BUTTONS - Brutalist with character
     ============================================ */
  .btn {
    @apply relative inline-flex items-center justify-center gap-3
           font-body font-semibold
           px-7 py-4
           transition-all duration-300
           border-2 border-lum-black
           overflow-hidden;
  }

  .btn-primary {
    @apply btn bg-lum-coral text-white border-lum-coral-dark
           hover:bg-lum-coral-dark
           hover:translate-x-[-2px] hover:translate-y-[-2px]
           active:translate-x-0 active:translate-y-0;
    box-shadow: 4px 4px 0px 0px theme('colors.lum.black');
  }

  .btn-primary:hover {
    box-shadow: 6px 6px 0px 0px theme('colors.lum.black');
  }

  .btn-primary:active {
    box-shadow: 2px 2px 0px 0px theme('colors.lum.black');
  }

  .btn-secondary {
    @apply btn bg-transparent text-lum-black border-lum-black
           hover:bg-lum-black hover:text-lum-cream;
  }

  .btn-ghost {
    @apply inline-flex items-center gap-2
           font-mono text-mono-sm uppercase tracking-wider
           text-lum-slate hover:text-lum-coral
           border-b-2 border-transparent hover:border-lum-coral
           transition-all duration-300 pb-1;
  }

  .btn-outline {
    @apply btn bg-lum-cream text-lum-black border-lum-black
           hover:bg-lum-mocha-muted;
    box-shadow: 3px 3px 0px 0px theme('colors.lum.mocha');
  }

  /* ============================================
     CARDS - Asymmetric, with overlap potential
     ============================================ */
  .card {
    @apply bg-lum-white border-2 border-lum-black
           p-6 md:p-8
           transition-all duration-300;
  }

  .card-elevated {
    @apply card;
    box-shadow: 6px 6px 0px 0px theme('colors.lum.black');
  }

  .card-elevated:hover {
    box-shadow: 8px 8px 0px 0px theme('colors.lum.coral');
    transform: translate(-2px, -2px);
  }

  .card-subtle {
    @apply bg-lum-ivory border border-lum-border
           p-6 md:p-8
           transition-all duration-300
           hover:border-lum-mocha;
  }

  .card-accent {
    @apply card bg-lum-coral text-white border-lum-coral-dark;
  }

  .card-dark {
    @apply card bg-lum-black text-lum-cream border-lum-charcoal;
  }

  /* ============================================
     BADGES - Monospace, technical feel
     ============================================ */
  .badge {
    @apply inline-flex items-center gap-2
           font-mono text-mono-xs uppercase tracking-wider
           px-3 py-1.5
           border border-current;
  }

  .badge-coral {
    @apply badge text-lum-coral bg-lum-coral-muted/30 border-lum-coral;
  }

  .badge-mocha {
    @apply badge text-lum-mocha-dark bg-lum-mocha-muted/30 border-lum-mocha;
  }

  .badge-dark {
    @apply badge text-lum-cream bg-lum-charcoal border-lum-charcoal;
  }

  .badge-outline {
    @apply badge text-lum-slate bg-transparent border-lum-slate-light;
  }

  /* ============================================
     SECTION STYLES
     ============================================ */
  .section {
    @apply py-20 md:py-28 lg:py-32;
  }

  .section-dark {
    @apply section bg-lum-black text-lum-cream;
  }

  .section-cream {
    @apply section bg-lum-cream;
  }

  .section-ivory {
    @apply section bg-lum-ivory;
  }

  .section-mocha {
    @apply section bg-lum-mocha text-white;
  }

  /* Diagonal section divider */
  .section-diagonal::before {
    content: '';
    @apply absolute top-0 left-0 right-0 h-20
           bg-inherit;
    clip-path: polygon(0 0, 100% 100%, 100% 0);
  }

  /* ============================================
     DECORATIVE ELEMENTS
     ============================================ */
  /* Noise/grain overlay */
  .grain {
    @apply pointer-events-none fixed inset-0 z-50;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 512 512' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.7' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
    opacity: var(--grain-opacity);
    mix-blend-mode: multiply;
  }

  /* Geometric accents */
  .accent-dot {
    @apply w-3 h-3 bg-lum-coral rounded-full;
  }

  .accent-line {
    @apply w-12 h-0.5 bg-lum-coral;
  }

  .accent-cross {
    @apply relative w-4 h-4;
  }

  .accent-cross::before,
  .accent-cross::after {
    content: '';
    @apply absolute bg-lum-coral;
  }

  .accent-cross::before {
    @apply w-full h-0.5 top-1/2 -translate-y-1/2;
  }

  .accent-cross::after {
    @apply h-full w-0.5 left-1/2 -translate-x-1/2;
  }

  /* Hand-drawn style underline */
  .underline-sketch {
    @apply relative inline-block;
  }

  .underline-sketch::after {
    content: '';
    @apply absolute -bottom-1 left-0 right-0 h-3
           bg-lum-coral/30
           -z-10 -rotate-1
           origin-left scale-x-100;
  }

  /* ============================================
     TYPOGRAPHY UTILITIES
     ============================================ */
  .text-gradient {
    @apply bg-clip-text text-transparent
           bg-gradient-to-r from-lum-coral to-lum-mocha;
  }

  .text-outline {
    -webkit-text-stroke: 2px currentColor;
    -webkit-text-fill-color: transparent;
  }

  .text-highlight {
    @apply relative inline;
    background: linear-gradient(transparent 60%, theme('colors.lum.coral-muted') 60%);
  }

  /* Display text with character */
  .display-text {
    @apply font-display uppercase tracking-wide;
  }

  /* ============================================
     FORM ELEMENTS
     ============================================ */
  .input {
    @apply w-full px-4 py-3
           bg-lum-white text-lum-black
           border-2 border-lum-black
           font-body
           placeholder:text-lum-slate-light
           focus:outline-none focus:border-lum-coral
           transition-colors duration-200;
  }

  .input-ghost {
    @apply input bg-transparent border-lum-border
           focus:bg-lum-white focus:border-lum-black;
  }

  /* ============================================
     LIST STYLES
     ============================================ */
  .check-list {
    @apply space-y-4;
  }

  .check-list li {
    @apply flex items-start gap-4 text-lum-slate;
  }

  .check-list li::before {
    content: '';
    @apply w-5 h-5 mt-0.5 flex-shrink-0
           bg-lum-coral
           border-2 border-lum-black;
    clip-path: polygon(20% 50%, 40% 70%, 80% 30%, 85% 35%, 40% 80%, 15% 55%);
  }

  .arrow-list {
    @apply space-y-3;
  }

  .arrow-list li {
    @apply flex items-start gap-3 font-mono text-mono-sm text-lum-slate;
  }

  .arrow-list li::before {
    content: '>';
    @apply text-lum-coral font-bold;
  }

  /* ============================================
     NAVIGATION
     ============================================ */
  .nav-link {
    @apply relative font-body font-medium
           text-lum-charcoal hover:text-lum-coral
           transition-colors duration-200;
  }

  .nav-link::after {
    content: '';
    @apply absolute -bottom-1 left-0 w-0 h-0.5
           bg-lum-coral
           transition-all duration-300;
  }

  .nav-link:hover::after,
  .nav-link.active::after {
    @apply w-full;
  }

  .nav-link.active {
    @apply text-lum-coral;
  }

  /* ============================================
     SCROLL ANIMATIONS
     ============================================ */
  .scroll-fade {
    @apply opacity-0 translate-y-10
           transition-all duration-700 ease-out;
  }

  .scroll-fade.is-visible {
    @apply opacity-100 translate-y-0;
  }

  .scroll-fade-left {
    @apply opacity-0 -translate-x-10
           transition-all duration-700 ease-out;
  }

  .scroll-fade-left.is-visible {
    @apply opacity-100 translate-x-0;
  }

  .scroll-fade-right {
    @apply opacity-0 translate-x-10
           transition-all duration-700 ease-out;
  }

  .scroll-fade-right.is-visible {
    @apply opacity-100 translate-x-0;
  }

  /* ============================================
     SPECIAL COMPONENTS
     ============================================ */
  /* Testimonial with handwritten quote */
  .testimonial {
    @apply relative pl-8 border-l-4 border-lum-coral;
  }

  .testimonial::before {
    content: '"';
    @apply absolute -top-4 -left-2
           font-serif text-7xl text-lum-coral/20
           leading-none;
  }

  /* Stats with large numbers */
  .stat {
    @apply text-center;
  }

  .stat-value {
    @apply font-display text-display-lg text-lum-coral;
  }

  .stat-label {
    @apply font-mono text-mono-xs uppercase tracking-wider
           text-lum-slate mt-2;
  }

  /* Service card with number */
  .service-card {
    @apply card-elevated relative;
  }

  .service-card .number {
    @apply absolute -top-4 -left-4
           w-12 h-12
           bg-lum-coral text-white
           font-display text-2xl
           flex items-center justify-center
           border-2 border-lum-black;
  }

  /* ============================================
     HOVER EFFECTS
     ============================================ */
  .hover-lift {
    @apply transition-transform duration-300
           hover:-translate-y-1;
  }

  .hover-brutal {
    @apply transition-all duration-300;
  }

  .hover-brutal:hover {
    transform: translate(-4px, -4px);
    box-shadow: 4px 4px 0px 0px theme('colors.lum.black');
  }

  /* ============================================
     DIVIDERS
     ============================================ */
  .divider {
    @apply w-full h-px bg-lum-border;
  }

  .divider-dark {
    @apply w-full h-px bg-lum-border-dark;
  }

  .divider-dashed {
    @apply w-full h-px border-t-2 border-dashed border-lum-border;
  }

  /* ============================================
     MARQUEE ANIMATION
     ============================================ */
  .marquee-container {
    @apply overflow-hidden whitespace-nowrap;
  }

  .marquee {
    @apply inline-block animate-[marquee_20s_linear_infinite];
  }

  @keyframes marquee {
    0% { transform: translateX(0); }
    100% { transform: translateX(-50%); }
  }
}

@layer utilities {
  /* Animation delays */
  .delay-100 { animation-delay: 100ms; }
  .delay-200 { animation-delay: 200ms; }
  .delay-300 { animation-delay: 300ms; }
  .delay-400 { animation-delay: 400ms; }
  .delay-500 { animation-delay: 500ms; }

  /* Stagger children animations */
  .stagger-children > * {
    @apply opacity-0 animate-slide-up;
  }
  .stagger-children > *:nth-child(1) { animation-delay: 0ms; }
  .stagger-children > *:nth-child(2) { animation-delay: 100ms; }
  .stagger-children > *:nth-child(3) { animation-delay: 200ms; }
  .stagger-children > *:nth-child(4) { animation-delay: 300ms; }
  .stagger-children > *:nth-child(5) { animation-delay: 400ms; }

  /* Rotations */
  .rotate-1 { transform: rotate(1deg); }
  .rotate-2 { transform: rotate(2deg); }
  .-rotate-1 { transform: rotate(-1deg); }
  .-rotate-2 { transform: rotate(-2deg); }

  /* Mix blend modes */
  .blend-multiply { mix-blend-mode: multiply; }
  .blend-overlay { mix-blend-mode: overlay; }
}
